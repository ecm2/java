{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{491:function(t,a,s){\"use strict\";s.r(a);var e=s(44),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[s(\"h1\",{attrs:{id:\"第二节-tomcat的部署和启动\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#第二节-tomcat的部署和启动\"}},[t._v(\"#\")]),t._v(\" 第二节 Tomcat的部署和启动\")]),t._v(\" \"),s(\"h2\",{attrs:{id:\"_1、tomcat扮演的角色\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1、tomcat扮演的角色\"}},[t._v(\"#\")]),t._v(\" 1、Tomcat扮演的角色\")]),t._v(\" \"),s(\"h3\",{attrs:{id:\"_1对外-web服务器\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1对外-web服务器\"}},[t._v(\"#\")]),t._v(\" ①对外：Web服务器\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"images/img006.png\",alt:\"images\"}})]),t._v(\" \"),s(\"h3\",{attrs:{id:\"_2对内-servlet容器\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2对内-servlet容器\"}},[t._v(\"#\")]),t._v(\" ②对内：Servlet容器\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"images/img007.png\",alt:\"images\"}})]),t._v(\" \"),s(\"h2\",{attrs:{id:\"_2、部署\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2、部署\"}},[t._v(\"#\")]),t._v(\" 2、部署\")]),t._v(\" \"),s(\"h3\",{attrs:{id:\"_1前提\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1前提\"}},[t._v(\"#\")]),t._v(\" ①前提\")]),t._v(\" \"),s(\"p\",[t._v(\"Tomcat本身是一个Java程序，所以当前系统中必须正确配置了JAVA_HOME环境变量。我们可以通过下面的命令检测：\")]),t._v(\" \"),s(\"blockquote\",[s(\"p\",[t._v(\"C:\\\\Users\\\\Administrator>\"),s(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"java -version\")]),t._v('\\njava version \"1.8.0_141\"\\nJava(TM) SE Runtime Environment (build 1.8.0_141-b15)\\nJava HotSpot(TM) 64-Bit Server VM (build 25.141-b15, mixed mode)')]),t._v(\" \"),s(\"p\",[t._v(\"C:\\\\Users\\\\Administrator>\"),s(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"echo %JAVA_HOME%\")]),t._v(\"\\nD:\\\\software\\\\Java\")]),t._v(\" \"),s(\"p\",[t._v(\"C:\\\\Users\\\\Administrator>\"),s(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"echo %PATH%\")]),t._v(\"\\nD:\\\\software\\\\xftp;C:\\\\WINDOWS\\\\system32;C:\\\\WINDOWS;C:\\\\WINDOWS\\\\System32\\\\Wbem;C:\\\\WINDOWS\\\\System32\\\\WindowsPowerShell\\\\v1.0;D:\\\\software\\\\Java\\\\bin;D:\\\\software\\\\apache-maven-3.5.4\\\\bin;C:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\Microsoft\\\\WindowsApps;\")])]),t._v(\" \"),s(\"h3\",{attrs:{id:\"_2解压\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2解压\"}},[t._v(\"#\")]),t._v(\" ②解压\")]),t._v(\" \"),s(\"p\",[t._v(\"将Tomcat压缩包解压到一个\"),s(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"非中文无空格\")]),t._v(\"的目录下。\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"images/img008.png\",alt:\"images\"}})]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"images/img009.png\",alt:\"images\"}})]),t._v(\" \"),s(\"h3\",{attrs:{id:\"_3tomcat目录结构\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3tomcat目录结构\"}},[t._v(\"#\")]),t._v(\" ③Tomcat目录结构\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"images/img010.png\",alt:\"images\"}})]),t._v(\" \"),s(\"h3\",{attrs:{id:\"_4启动tomcat并访问首页\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4启动tomcat并访问首页\"}},[t._v(\"#\")]),t._v(\" ④启动Tomcat并访问首页\")]),t._v(\" \"),s(\"p\",[t._v(\"启动Tomcat：运行Tomcat解压后根目录下\\\\bin\\\\startup.bat即可，例如：\")]),t._v(\" \"),s(\"blockquote\",[s(\"p\",[t._v(\"D:\\\\software\\\\apache-tomcat-7.0.79\\\\bin\\\\startup.bat\")])]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"images/img014.png\",alt:\"images\"}})]),t._v(\" \"),s(\"p\",[t._v(\"如果需要停止Tomcat，则运行shutdown.bat程序，例如：\")]),t._v(\" \"),s(\"blockquote\",[s(\"p\",[t._v(\"D:\\\\software\\\\apache-tomcat-7.0.79\\\\bin\\\\shutdown.bat\")])]),t._v(\" \"),s(\"p\",[t._v(\"小提示：将来我们在IDEA中启动Tomcat，如果IDEA卡死强关，Tomcat不会正常退出。下次再启动Tomcat会因为残留进程仍然占用8080端口，导致新的进程无法启动。此时可以使用shutdown.bat结束残留进程。\")]),t._v(\" \"),s(\"h3\",{attrs:{id:\"_5部署一个war包并启动tomcat\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5部署一个war包并启动tomcat\"}},[t._v(\"#\")]),t._v(\" ⑤部署一个war包并启动Tomcat\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"images/img011.png\",alt:\"images\"}})]),t._v(\" \"),s(\"p\",[t._v(\"在Tomcat启动过程中，会打印启动日志，其中我们能看到hello.war被部署的日志信息：\")]),t._v(\" \"),s(\"blockquote\",[s(\"p\",[t._v(\"信息: Deployment of web application archive D:\\\\software\\\\apache-tomcat-7.0.79\\\\webapps\\\\hello.war has finished in 1,150 ms\")])]),t._v(\" \"),s(\"p\",[t._v(\"此时，我们回到webapps目录，能看到hello.war被解压了：\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"images/img012.png\",alt:\"images\"}})]),t._v(\" \"),s(\"h3\",{attrs:{id:\"_6访问刚才部署的web应用\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_6访问刚才部署的web应用\"}},[t._v(\"#\")]),t._v(\" ⑥访问刚才部署的Web应用\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"images/img013.png\",alt:\"images\"}})]),t._v(\" \"),s(\"h3\",{attrs:{id:\"_7关于tomcat端口号\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_7关于tomcat端口号\"}},[t._v(\"#\")]),t._v(\" ⑦关于Tomcat端口号\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"images/img015.png\",alt:\"images\"}})]),t._v(\" \"),s(\"p\",[t._v(\"配置文件节选：\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-xml extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[s(\"code\",[t._v(\"……\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"\\x3c!-- 第22行 --\\x3e\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"Server\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"port\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"8005\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"shutdown\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"SHUTDOWN\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n……\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"\\x3c!-- 第71行 --\\x3e\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"Connector\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"port\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"8080\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"protocol\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"HTTP/1.1\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n\\t\\t   \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"connectionTimeout\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"20000\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n\\t\\t   \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"redirectPort\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"8443\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n……\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"\\x3c!-- 第93行 --\\x3e\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"Connector\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"port\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"8009\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"protocol\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"AJP/1.3\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"redirectPort\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"8443\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\")])])]),s(\"p\",[t._v(\"三个位置共定义了3个端口号，Tomcat启动后，这个三个端口号都会被占用。\")]),t._v(\" \"),s(\"p\",[s(\"RouterLink\",{attrs:{to:\"/pro001-javaweb/lecture/chapter05/verse01.html\"}},[t._v(\"上一节\")]),t._v(\" \"),s(\"RouterLink\",{attrs:{to:\"/pro001-javaweb/lecture/chapter05/index.html\"}},[t._v(\"回目录\")]),t._v(\" \"),s(\"RouterLink\",{attrs:{to:\"/pro001-javaweb/lecture/chapter05/verse03.html\"}},[t._v(\"下一节\")])],1)])}),[],!1,null,null,null);a.default=r.exports}}]);","extractedComments":[]}
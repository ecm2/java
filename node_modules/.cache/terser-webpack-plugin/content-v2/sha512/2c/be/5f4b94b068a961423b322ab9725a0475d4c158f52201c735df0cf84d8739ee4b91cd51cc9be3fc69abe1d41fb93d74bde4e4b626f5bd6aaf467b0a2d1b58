{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{504:function(t,a,e){\"use strict\";e.r(a);var s=e(44),_=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[e(\"p\",[t._v(\"[TOC]\")]),t._v(\" \"),e(\"h1\",{attrs:{id:\"第七节-动态web工程内编写路径\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#第七节-动态web工程内编写路径\"}},[t._v(\"#\")]),t._v(\" 第七节 动态Web工程内编写路径\")]),t._v(\" \"),e(\"h2\",{attrs:{id:\"_1、为什么要写路径\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1、为什么要写路径\"}},[t._v(\"#\")]),t._v(\" 1、为什么要写路径？\")]),t._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:\"images/img026.gif\",alt:\"images\"}})]),t._v(\" \"),e(\"ul\",[e(\"li\",[t._v(\"整个系统要根据功能拆分成许许多多\"),e(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"独立\")]),t._v(\"的\"),e(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"资源\")])]),t._v(\" \"),e(\"li\",[t._v(\"资源之间既要完成自身的功能又要和其他资源\"),e(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"配合\")])]),t._v(\" \"),e(\"li\",[t._v(\"写路径就是为了从一个资源\"),e(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"跳转\")]),t._v(\"到下一个资源\")])]),t._v(\" \"),e(\"h2\",{attrs:{id:\"_2、为什么写路径这事有点复杂\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2、为什么写路径这事有点复杂\"}},[t._v(\"#\")]),t._v(\" 2、为什么写路径这事有点复杂？\")]),t._v(\" \"),e(\"h3\",{attrs:{id:\"_1先开发再部署\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1先开发再部署\"}},[t._v(\"#\")]),t._v(\" ①先开发再部署\")]),t._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:\"images/img026.png\",alt:\"images\"}})]),t._v(\" \"),e(\"ul\",[e(\"li\",[e(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"工程目录\")]),t._v(\"：我们写代码的地方，但是在服务器上运行的不是这个。\")]),t._v(\" \"),e(\"li\",[e(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"部署目录\")]),t._v(\"：经过Java源文件\"),e(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"编译\")]),t._v(\"和\"),e(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"目录重组\")]),t._v(\"后，IDEA就替我们准备好了可以在服务器上运行的部署目录。\")]),t._v(\" \"),e(\"li\",[e(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"区别\")]),t._v(\"：因为从工程目录到部署目录经过了\"),e(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"目录重组\")]),t._v(\"，所以它们的目录结构是\"),e(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"不同\")]),t._v(\"的。\")]),t._v(\" \"),e(\"li\",[e(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"基准\")]),t._v(\"：用户通过浏览器访问服务器，而服务器上运行的是部署目录，所以写路径的时候\"),e(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"参考部署目录\")]),t._v(\"而不是工程目录。\")]),t._v(\" \"),e(\"li\",[e(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"对应关系\")]),t._v(\"：\"),e(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"工程目录下的web目录对应部署目录的根目录\")]),t._v(\"，同时部署目录的根目录也是路径中的\"),e(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"Web应用根目录\")]),t._v(\"。\")])]),t._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:\"images/img028.png\",alt:\"images\"}})]),t._v(\" \"),e(\"h3\",{attrs:{id:\"_2路径的各个组成部分\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2路径的各个组成部分\"}},[t._v(\"#\")]),t._v(\" ②路径的各个组成部分\")]),t._v(\" \"),e(\"p\",[t._v(\"从最前面一直到Web应用名称这里都是固定写法，到资源名这里要看具体是什么资源。\")]),t._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:\"images/img027.png\",alt:\"images\"}})]),t._v(\" \"),e(\"h4\",{attrs:{id:\"_1-具体文件\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-具体文件\"}},[t._v(\"#\")]),t._v(\" [1]具体文件\")]),t._v(\" \"),e(\"p\",[t._v(\"我们写代码的时候都是在工程目录下操作，所以参照工程目录来说最方便。按照工程目录的目录结构来说，从web目录开始按照实际目录结构写就好了（不包括web目录本身）。\")]),t._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:\"images/img029.png\",alt:\"images\"}})]),t._v(\" \"),e(\"h4\",{attrs:{id:\"_2-servlet\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-servlet\"}},[t._v(\"#\")]),t._v(\" [2]Servlet\")]),t._v(\" \"),e(\"p\",[t._v(\"访问Servlet的路径是我们在web.xml中配置的，大家可能注意到了，url-pattern里面的路径我们也是\"),e(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"斜杠开头\")]),t._v(\"的，但是这个开头的斜杠代表\"),e(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"Web应用根目录\")]),t._v(\"。\")]),t._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:\"images/img030.png\",alt:\"images\"}})]),t._v(\" \"),e(\"p\",[t._v(\"同样是开头的斜杠，超链接路径中的开头斜杠代表服务器根目录，Servlet地址开头的斜杠，代表Web应用根目录，怎么记呢？请看下面的准则：\")]),t._v(\" \"),e(\"h2\",{attrs:{id:\"_3、准则\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3、准则\"}},[t._v(\"#\")]),t._v(\" 3、准则\")]),t._v(\" \"),e(\"blockquote\",[e(\"p\",[t._v(\"用通俗的大白话来解释：一个路径由谁来解析，其实就是这个路径是谁来用。\")])]),t._v(\" \"),e(\"table\",[e(\"thead\",[e(\"tr\",[e(\"th\",[t._v(\"路径类型\")]),t._v(\" \"),e(\"th\",[t._v(\"解析方式\")])])]),t._v(\" \"),e(\"tbody\",[e(\"tr\",[e(\"td\",[t._v(\"由浏览器解析的路径\")]),t._v(\" \"),e(\"td\",[t._v(\"开头斜杠代表服务器根目录\")])]),t._v(\" \"),e(\"tr\",[e(\"td\",[t._v(\"由服务器解析的路径\")]),t._v(\" \"),e(\"td\",[t._v(\"开头斜杠代表Web应用根目录\")])])])]),t._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:\"images/img031.png\",alt:\"images\"}})]),t._v(\" \"),e(\"p\",[t._v(\"那么具体来说，哪些路径是浏览器解析的，哪些路径是服务器解析的呢？\")]),t._v(\" \"),e(\"ul\",[e(\"li\",[t._v(\"浏览器解析的路径举例：\\n\"),e(\"ul\",[e(\"li\",[t._v(\"所有HTML标签中的路径\")]),t._v(\" \"),e(\"li\",[t._v(\"重定向过程中指定的路径\")])])]),t._v(\" \"),e(\"li\",[t._v(\"服务器解析的路径举例：\\n\"),e(\"ul\",[e(\"li\",[t._v(\"所有web.xml中配置的路径\")]),t._v(\" \"),e(\"li\",[t._v(\"请求转发过程中指定的路径\")])])])]),t._v(\" \"),e(\"h2\",{attrs:{id:\"_4、写路径的步骤\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4、写路径的步骤\"}},[t._v(\"#\")]),t._v(\" 4、写路径的步骤\")]),t._v(\" \"),e(\"p\",[e(\"img\",{attrs:{src:\"images/img032.png\",alt:\"images\"}})]),t._v(\" \"),e(\"h2\",{attrs:{id:\"_5、动态获取上下文路径\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5、动态获取上下文路径\"}},[t._v(\"#\")]),t._v(\" 5、动态获取上下文路径\")]),t._v(\" \"),e(\"h3\",{attrs:{id:\"_1上下文路径的概念\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1上下文路径的概念\"}},[t._v(\"#\")]),t._v(\" ①上下文路径的概念\")]),t._v(\" \"),e(\"p\",[t._v(\"上下文路径（context path）=/Web应用名称\")]),t._v(\" \"),e(\"h3\",{attrs:{id:\"_2动态获取\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2动态获取\"}},[t._v(\"#\")]),t._v(\" ②动态获取\")]),t._v(\" \"),e(\"p\",[t._v(\"由于项目部署的时候，上下文路径是可以变化的，所以写死有可能发生错误。此时我们通过request对象动态获取上下文路径就不用担心这个问题了。调用下面这个方法，每一次获取的都是当前环境下实际的上下文路径的值。\")]),t._v(\" \"),e(\"div\",{staticClass:\"language-java extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[e(\"code\",[t._v(\"request\"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"getContextPath\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])]),e(\"blockquote\",[e(\"p\",[t._v(\"如果本节让你感觉很复杂，建议你放慢节奏，尝试下面的步骤：\")]),t._v(\" \"),e(\"ul\",[e(\"li\",[t._v(\"第一步：先弄清楚每个『名词概念』，清楚的知道我们提到的每一个名词指的是什么。\")]),t._v(\" \"),e(\"li\",[t._v(\"第二步：弄清楚底层运行原理，其实就是工程目录和部署目录的区别。\")]),t._v(\" \"),e(\"li\",[t._v(\"第三步：按照我们介绍的步骤一步一步慢慢写，写一步想一想，弄清楚各个部分的对应关系。\")])])]),t._v(\" \"),e(\"p\",[e(\"RouterLink\",{attrs:{to:\"/pro001-javaweb/lecture/chapter07/verse06.html\"}},[t._v(\"上一节\")]),t._v(\" \"),e(\"RouterLink\",{attrs:{to:\"/pro001-javaweb/lecture/chapter07/index.html\"}},[t._v(\"回目录\")]),t._v(\" \"),e(\"RouterLink\",{attrs:{to:\"/pro001-javaweb/lecture/chapter07/verse08.html\"}},[t._v(\"下一节\")])],1)])}),[],!1,null,null,null);a.default=_.exports}}]);","extractedComments":[]}
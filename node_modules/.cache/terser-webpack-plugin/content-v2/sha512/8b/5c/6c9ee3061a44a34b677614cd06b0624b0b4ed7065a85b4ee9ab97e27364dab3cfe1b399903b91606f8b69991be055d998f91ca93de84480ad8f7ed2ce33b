{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[263],{652:function(t,a,s){\"use strict\";s.r(a);var n=s(44),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[s(\"p\",[t._v(\"[TOC]\")]),t._v(\" \"),s(\"h1\",{attrs:{id:\"第四节-整合ehcache\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#第四节-整合ehcache\"}},[t._v(\"#\")]),t._v(\" 第四节 整合EHCache\")]),t._v(\" \"),s(\"h2\",{attrs:{id:\"_1、ehcache简介\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1、ehcache简介\"}},[t._v(\"#\")]),t._v(\" 1、EHCache简介\")]),t._v(\" \"),s(\"p\",[t._v(\"官网地址：https://www.ehcache.org/\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"images/img006.png\",alt:\"images\"}})]),t._v(\" \"),s(\"blockquote\",[s(\"p\",[t._v(\"Ehcache is an open source, standards-based cache that boosts performance, offloads your database, and simplifies scalability. \"),s(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"It's the most widely-used Java-based cache because it's robust, proven, full-featured, and integrates with other popular libraries and frameworks\")]),t._v(\". Ehcache scales from in-process caching, all the way to mixed in-process/out-of-process deployments with terabyte-sized caches.\")])]),t._v(\" \"),s(\"h2\",{attrs:{id:\"_2、整合操作\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2、整合操作\"}},[t._v(\"#\")]),t._v(\" 2、整合操作\")]),t._v(\" \"),s(\"h3\",{attrs:{id:\"_1mybatis环境\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1mybatis环境\"}},[t._v(\"#\")]),t._v(\" ①Mybatis环境\")]),t._v(\" \"),s(\"p\",[t._v(\"在Mybatis环境下整合EHCache，\"),s(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"前提\")]),t._v(\"当然是要先准备好\"),s(\"span\",{staticStyle:{color:\"blue\",\"font-weight\":\"bold\"}},[t._v(\"Mybatis的环境\")]),t._v(\"。\")]),t._v(\" \"),s(\"h3\",{attrs:{id:\"_2添加依赖\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2添加依赖\"}},[t._v(\"#\")]),t._v(\" ②添加依赖\")]),t._v(\" \"),s(\"h4\",{attrs:{id:\"_1-依赖信息\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-依赖信息\"}},[t._v(\"#\")]),t._v(\" [1]依赖信息\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-xml extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"\\x3c!-- Mybatis EHCache整合包 --\\x3e\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"dependency\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"groupId\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"org.mybatis.caches\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"groupId\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"artifactId\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"mybatis-ehcache\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"artifactId\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"version\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"1.2.1\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"version\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"dependency\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"\\x3c!-- slf4j日志门面的一个具体实现 --\\x3e\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"dependency\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"groupId\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"ch.qos.logback\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"groupId\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"artifactId\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"logback-classic\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"artifactId\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"version\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"1.2.3\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"version\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"dependency\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\")])])]),s(\"h4\",{attrs:{id:\"_2-依赖传递情况\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-依赖传递情况\"}},[t._v(\"#\")]),t._v(\" [2]依赖传递情况\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"images/img007.png\",alt:\"images\"}})]),t._v(\" \"),s(\"h4\",{attrs:{id:\"_3-各主要jar包作用\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-各主要jar包作用\"}},[t._v(\"#\")]),t._v(\" [3]各主要jar包作用\")]),t._v(\" \"),s(\"table\",[s(\"thead\",[s(\"tr\",[s(\"th\",[t._v(\"jar包名称\")]),t._v(\" \"),s(\"th\",[t._v(\"作用\")])])]),t._v(\" \"),s(\"tbody\",[s(\"tr\",[s(\"td\",[t._v(\"mybatis-ehcache\")]),t._v(\" \"),s(\"td\",[t._v(\"Mybatis和EHCache的整合包\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"ehcache\")]),t._v(\" \"),s(\"td\",[t._v(\"EHCache核心包\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"slf4j-api\")]),t._v(\" \"),s(\"td\",[t._v(\"SLF4J日志门面包\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"logback-classic\")]),t._v(\" \"),s(\"td\",[t._v(\"支持SLF4J门面接口的一个具体实现\")])])])]),t._v(\" \"),s(\"h3\",{attrs:{id:\"_3整合ehcache\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3整合ehcache\"}},[t._v(\"#\")]),t._v(\" ③整合EHCache\")]),t._v(\" \"),s(\"h4\",{attrs:{id:\"_1-创建ehcache配置文件\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-创建ehcache配置文件\"}},[t._v(\"#\")]),t._v(\" [1]创建EHCache配置文件\")]),t._v(\" \"),s(\"p\",[t._v(\"ehcache.xml\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"images/img008.png\",alt:\"images\"}})]),t._v(\" \"),s(\"h4\",{attrs:{id:\"_2-文件内容\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-文件内容\"}},[t._v(\"#\")]),t._v(\" [2]文件内容\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-xml extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token prolog\"}},[t._v('<?xml version=\"1.0\" encoding=\"utf-8\" ?>')]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"ehcache\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[s(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"xmlns:\")]),t._v(\"xsi\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"http://www.w3.org/2001/XMLSchema-instance\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n         \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[s(\"span\",{pre:!0,attrs:{class:\"token namespace\"}},[t._v(\"xsi:\")]),t._v(\"noNamespaceSchemaLocation\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"../config/ehcache.xsd\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"\\x3c!-- 磁盘保存路径 --\\x3e\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"diskStore\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"path\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"D:\\\\atguigu\\\\ehcache\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n    \\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"defaultCache\")]),t._v(\"\\n            \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"maxElementsInMemory\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"1000\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n            \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"maxElementsOnDisk\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"10000000\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n            \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"eternal\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"false\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n            \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"overflowToDisk\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"true\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n            \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"timeToIdleSeconds\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"120\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n            \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"timeToLiveSeconds\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"120\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n            \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"diskExpiryThreadIntervalSeconds\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"120\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n            \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"memoryStoreEvictionPolicy\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"LRU\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"defaultCache\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"ehcache\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\")])])]),s(\"blockquote\",[s(\"p\",[t._v(\"引入第三方框架或工具时，配置文件的文件名可以自定义吗？\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"可以自定义：文件名是由我告诉其他环境\")]),t._v(\" \"),s(\"li\",[t._v(\"不能自定义：文件名是框架内置的、约定好的，就不能自定义，以避免框架无法加载这个文件\")])])]),t._v(\" \"),s(\"h4\",{attrs:{id:\"_3-指定缓存管理器的具体类型\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-指定缓存管理器的具体类型\"}},[t._v(\"#\")]),t._v(\" [3]指定缓存管理器的具体类型\")]),t._v(\" \"),s(\"p\",[t._v(\"还是到查询操作所的Mapper配置文件中，找到之前设置的cache标签：\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"images/img009.png\",alt:\"images\"}})]),t._v(\" \"),s(\"div\",{staticClass:\"language-xml extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"cache\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"type\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"org.mybatis.caches.ehcache.EhcacheCache\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\")])])]),s(\"h3\",{attrs:{id:\"_4加入logback日志\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4加入logback日志\"}},[t._v(\"#\")]),t._v(\" ④加入logback日志\")]),t._v(\" \"),s(\"p\",[t._v(\"存在SLF4J时，作为简易日志的log4j将失效，此时我们需要借助SLF4J的具体实现logback来打印日志。\")]),t._v(\" \"),s(\"h4\",{attrs:{id:\"_1-各种java日志框架简介\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-各种java日志框架简介\"}},[t._v(\"#\")]),t._v(\" [1]各种Java日志框架简介\")]),t._v(\" \"),s(\"p\",[t._v(\"门面：\")]),t._v(\" \"),s(\"table\",[s(\"thead\",[s(\"tr\",[s(\"th\",[t._v(\"名称\")]),t._v(\" \"),s(\"th\",[t._v(\"说明\")])])]),t._v(\" \"),s(\"tbody\",[s(\"tr\",[s(\"td\",[t._v(\"JCL（Jakarta Commons Logging）\")]),t._v(\" \"),s(\"td\",[t._v(\"陈旧\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"SLF4J（Simple Logging Facade for Java）\"),s(\"span\",{staticStyle:{color:\"blue\"}},[t._v(\"★\")])]),t._v(\" \"),s(\"td\",[t._v(\"适合\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"jboss-logging\")]),t._v(\" \"),s(\"td\",[t._v(\"特殊专业领域使用\")])])])]),t._v(\" \"),s(\"p\",[t._v(\"实现：\")]),t._v(\" \"),s(\"table\",[s(\"thead\",[s(\"tr\",[s(\"th\",[t._v(\"名称\")]),t._v(\" \"),s(\"th\",[t._v(\"说明\")])])]),t._v(\" \"),s(\"tbody\",[s(\"tr\",[s(\"td\",[t._v(\"log4j\"),s(\"span\",{staticStyle:{color:\"blue\"}},[t._v(\"★\")])]),t._v(\" \"),s(\"td\",[t._v(\"最初版\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"JUL（java.util.logging）\")]),t._v(\" \"),s(\"td\",[t._v(\"JDK自带\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"log4j2\")]),t._v(\" \"),s(\"td\",[t._v(\"Apache收购log4j后全面重构，内部实现和log4j完全不同\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"logback\"),s(\"span\",{staticStyle:{color:\"blue\"}},[t._v(\"★\")])]),t._v(\" \"),s(\"td\",[t._v(\"优雅、强大\")])])])]),t._v(\" \"),s(\"p\",[t._v(\"注：标记\"),s(\"span\",{staticStyle:{color:\"blue\"}},[t._v(\"★\")]),t._v(\"的技术是同一作者。\")]),t._v(\" \"),s(\"h4\",{attrs:{id:\"_2-logback配置文件\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-logback配置文件\"}},[t._v(\"#\")]),t._v(\" [2]logback配置文件\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"images/img010.png\",alt:\"images\"}})]),t._v(\" \"),s(\"div\",{staticClass:\"language-xml extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token prolog\"}},[t._v('<?xml version=\"1.0\" encoding=\"UTF-8\"?>')]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"configuration\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"debug\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"true\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"\\x3c!-- 指定日志输出的位置 --\\x3e\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"appender\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"name\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"STDOUT\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\"\\n\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"class\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"ch.qos.logback.core.ConsoleAppender\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"encoder\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\t\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"\\x3c!-- 日志输出的格式 --\\x3e\")]),t._v(\"\\n\\t\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"\\x3c!-- 按照顺序分别是：时间、日志级别、线程名称、打印日志的类、日志主体内容、换行 --\\x3e\")]),t._v(\"\\n\\t\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"pattern\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"[%d{HH:mm:ss.SSS}] [%-5level] [%thread] [%logger] [%msg]%n\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"pattern\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"encoder\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"appender\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\t\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"\\x3c!-- 设置全局日志级别。日志级别按顺序分别是：DEBUG、INFO、WARN、ERROR --\\x3e\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"\\x3c!-- 指定任何一个日志级别都只打印当前级别和后面级别的日志。 --\\x3e\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"root\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"level\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"DEBUG\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"\\x3c!-- 指定打印日志的appender，这里通过“STDOUT”引用了前面配置的appender --\\x3e\")]),t._v(\"\\n\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"appender-ref\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"ref\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"STDOUT\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"root\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n    \\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"\\x3c!-- 根据特殊需求指定局部日志级别 --\\x3e\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"logger\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"name\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"com.atguigu.crowd.mapper\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"level\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"DEBUG\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\\t\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"configuration\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n\")])])]),s(\"h3\",{attrs:{id:\"_5junit测试\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5junit测试\"}},[t._v(\"#\")]),t._v(\" ⑤junit测试\")]),t._v(\" \"),s(\"p\",[t._v(\"正常按照二级缓存的方式测试即可。因为整合EHCache后，其实就是使用EHCache代替了Mybatis自带的二级缓存。\")]),t._v(\" \"),s(\"h3\",{attrs:{id:\"_6ehcache配置文件说明\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_6ehcache配置文件说明\"}},[t._v(\"#\")]),t._v(\" ⑥EHCache配置文件说明\")]),t._v(\" \"),s(\"p\",[t._v('当借助CacheManager.add(\"缓存名称\")创建Cache时，EhCache便会采用<defalutCache/>指定的的管理策略。')]),t._v(\" \"),s(\"p\",[t._v(\"defaultCache标签各属性说明：\")]),t._v(\" \"),s(\"table\",[s(\"thead\",[s(\"tr\",[s(\"th\",[t._v(\"属性名\")]),t._v(\" \"),s(\"th\",[t._v(\"是否必须\")]),t._v(\" \"),s(\"th\",[t._v(\"作用\")])])]),t._v(\" \"),s(\"tbody\",[s(\"tr\",[s(\"td\",[t._v(\"maxElementsInMemory\")]),t._v(\" \"),s(\"td\",[t._v(\"是\")]),t._v(\" \"),s(\"td\",[t._v(\"在内存中缓存的element的最大数目\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"maxElementsOnDisk\")]),t._v(\" \"),s(\"td\",[t._v(\"是\")]),t._v(\" \"),s(\"td\",[t._v(\"在磁盘上缓存的element的最大数目，若是0表示无穷大\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"eternal\")]),t._v(\" \"),s(\"td\",[t._v(\"是\")]),t._v(\" \"),s(\"td\",[t._v(\"设定缓存的elements是否永远不过期。\"),s(\"br\"),t._v(\"如果为true，则缓存的数据始终有效，\"),s(\"br\"),t._v(\"如果为false那么还要根据timeToIdleSeconds、timeToLiveSeconds判断\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"overflowToDisk\")]),t._v(\" \"),s(\"td\",[t._v(\"是\")]),t._v(\" \"),s(\"td\",[t._v(\"设定当内存缓存溢出的时候是否将过期的element缓存到磁盘上\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"timeToIdleSeconds\")]),t._v(\" \"),s(\"td\",[t._v(\"否\")]),t._v(\" \"),s(\"td\",[t._v(\"当缓存在EhCache中的数据前后两次访问的时间超过timeToIdleSeconds的属性取值时，\"),s(\"br\"),t._v(\"这些数据便会删除，默认值是0,也就是可闲置时间无穷大\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"timeToLiveSeconds\")]),t._v(\" \"),s(\"td\",[t._v(\"否\")]),t._v(\" \"),s(\"td\",[t._v(\"缓存element的有效生命期，默认是0.,也就是element存活时间无穷大\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"diskSpoolBufferSizeMB\")]),t._v(\" \"),s(\"td\",[t._v(\"否\")]),t._v(\" \"),s(\"td\",[t._v(\"DiskStore(磁盘缓存)的缓存区大小。默认是30MB。每个Cache都应该有自己的一个缓冲区\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"diskPersistent\")]),t._v(\" \"),s(\"td\",[t._v(\"否\")]),t._v(\" \"),s(\"td\",[t._v(\"在VM重启的时候是否启用磁盘保存EhCache中的数据，默认是false。\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"diskExpiryThreadIntervalSeconds\")]),t._v(\" \"),s(\"td\",[t._v(\"否\")]),t._v(\" \"),s(\"td\",[t._v(\"磁盘缓存的清理线程运行间隔，默认是120秒。每个120s，\"),s(\"br\"),t._v(\"相应的线程会进行一次EhCache中数据的清理工作\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"memoryStoreEvictionPolicy\")]),t._v(\" \"),s(\"td\",[t._v(\"否\")]),t._v(\" \"),s(\"td\",[t._v(\"当内存缓存达到最大，有新的element加入的时候， 移除缓存中element的策略。\"),s(\"br\"),t._v(\"默认是LRU（最近最少使用），可选的有LFU（最不常使用）和FIFO（先进先出）\")])])])]),t._v(\" \"),s(\"p\",[s(\"RouterLink\",{attrs:{to:\"/pro003-Mybatis/lecture/chapter05/verse03.html\"}},[t._v(\"上一节\")]),t._v(\" \"),s(\"RouterLink\",{attrs:{to:\"/pro003-Mybatis/lecture/chapter05/index.html\"}},[t._v(\"回目录\")]),t._v(\" \"),s(\"RouterLink\",{attrs:{to:\"/pro003-Mybatis/lecture/chapter05/verse05.html\"}},[t._v(\"下一节\")])],1)])}),[],!1,null,null,null);a.default=e.exports}}]);","extractedComments":[]}